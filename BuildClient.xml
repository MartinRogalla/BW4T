<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project default="all" name="Create BW4TRemoteEnvironment Jar">
    <target name="create_jar">
		<delete file="BW4TClient/environments/BW4TClient.jar"/>
        <jar destfile="BW4TClient/environments/BW4TClient.jar" filesetmanifest="mergewithoutmain">
            <manifest>
                <attribute name="Main-Class" value="nl.tudelft.bw4t.client.BW4TRemoteEnvironment"/>
                <attribute name="Class-Path" value=". eis-0.3.jar"/>
            </manifest>
            <fileset dir="bin"/>
            <zipfileset excludes="META-INF/*.SF" src="dep/bw4tmap.jar"/>
        </jar>
    </target>
    
    <!-- TODO fix warnings on EIS and BW4Tmap. #2976. It's safe to ignore them --> 
    <target name="javadoc">
		<javadoc packagenames="nl.tudelft.bw4t.message.*"
           sourcepath="src"
           destdir="doc/javadoc"
           defaultexcludes="yes"
           author="true"
           version="true"
           use="true"
           windowtitle="Blocksworld Client">
    		<doctitle><![CDATA[<h1>Test</h1>]]></doctitle>
    	</javadoc>
    </target>
	
	<target name = "create_zip" depends = "javadoc">
			<delete file="BW4TClient.zip"/>
			<zip destfile="BW4TClient.zip" basedir="." excludes="**">   
    			   <zipfileset dir="BW4TClient/environments" includes="**"/>			
    			   <zipfileset dir="doc" includes="javadoc/**"/>
    			   <zipfileset dir="." includes="src/nl/tudelft/bw4t/agent/TestAgent.java"/>
			</zip>
	</target>
	
	<target name="all" depends="create_jar, create_zip">
	</target>
</project>