init module { 
	beliefs {
		second(0.0, 65.0).     
		third(49.5, 65.0).
	}
	goals{
		% a single goal to achieve a particular Blocks World configuration.
		% assumes that these blocks are available in the Blocks World.
		location(30.0, 65.0) .
	}
	program{
		forall bel( percept(state(State)) ) do insert( state(State) ) .
		forall bel( percept(location(X, Y)) ) do insert( location(X, Y)).
		forall bel( at(Zone) ) do insert( at(Zone) ) .
	}
	actionspec{
		goTo(Location) {
			pre { not(state(traveling)) }
			post { true } 	
		}
		
		goTo(X, Y) {
			pre { not(state(traveling)) }
			post { true }	
		}
		 
		navigateObstacles {
			pre { state(collided)) }
			post { true }
		}	
	}
}


                                             
main module{
	program{   
		if bel(state(collided)) then navigateObstacles.
		
		if goal-a(location(X, Y)) then drop(location(X, Y)) .              
		if a-goal(location(X, Y)) then goTo(X, Y).
		
		if bel(second(SX, SY)), not(goal(location(_,_))) then delete(second(SX, SY)) + adopt(location(SX, SY)) .
		if bel(third(TX, TY)), not(goal(location(_,_))) then delete(third(TX, TY)) + adopt(location(TX, TY)).
	}                                                 
}

event module {
	program{
		if bel( state(State), percept(state(NewState)) ) then delete( state(State) ) + insert( state(NewState) ) .
		if bel( location(X, Y), percept(location(NewX, NewY))) then delete( location(X, Y)) + insert(location(NewX, NewY)) .
		if bel( at(Zone), percept(at(NewZone)) ) then delete( at(Zone) ) + insert( at(NewZone )) .
	}
}
